# 17.5 CentOS 7.x 默认启动的服务简易说明

随着 Linux 上面软件支持性越来越多，加上自由软件蓬勃的发展，我们可以在 Linux 上面用的 daemons 真的越来越多了。所以，想要写完所有的 daemons 介绍几乎是不可能的，因此，鸟哥这里仅介绍几个很常见的 daemons 而已， 更多的信息呢，就得要麻烦你自己使用 systemctl list-unit-files --type=service 去查询啰！ 下面的建议主要是针对 Linux 单机服务器的角色来说明的，不是桌上型的环境喔！

**CentOS 7.x 默认启动的服务内容**

| 服务名称    | 功能简介 |
|----------|-----------|
| abrtd | （系统）abrtd 服务可以提供使用者一些方式，让使用者可以针对不同的应用软件去设计错误登录的机制， 当软件产生问题时，使用者就可以根据 abrtd 的登录文件来进行错误克服的行为。还有其他的 abrt-xxx.service 均是使用这个服务来加强应用程序 debug 任务的。|
| accounts-daemon（可关闭）| （系统）使用 accountsservice 计划所提供的一系列 D-Bus 界面来进行使用者帐号信息的查询。 基本上是与 useradd, usermod, userdel 等软件有关。|
| alsa-X（可关闭）  | （系统）开头为 alsa 的服务有不少，这些服务大部分都与音效有关！一般来说， 服务器且不开图形界面的话，这些服务可以关闭！ |
| atd   | （系统）单一的例行性工作调度，详细说明请参考[第十五章]。 抵挡机制的配置文件在 /etc/at.{allow,deny} 喔！  |
| auditd | （系统）还记得前一章的 SELinux 所需服务吧？ 这就是其中一项，可以让系统需 SELinux 稽核的讯息写入 /var/log/audit/audit.log 中。   |
| avahi-daemon（可关闭）   | （系统）也是一个用户端的服务，可以通过 Zeroconf 自动的分析与管理网络。 Zeroconf 较常用在笔记本电脑与行动设备上，所以我们可以先关闭他啦！  |
| brandbot rhel-\*     | （系统）这些服务大多用于开机过程中所需要的各种侦测环境的脚本，同时也提供网络界面的启动与关闭。 基本上，你不要关闭掉这些服务比较妥当！|
| chronyd ntpd ntpdate   | （系统）都是网络校正时间的服务！一般来说，你可能需要的仅有 chronyd 而已！|
| cpupower  | （系统）提供 CPU 的运行规范～可以参考 /etc/sysconfig/cpupower 得到更多的信息！ 这家伙与你的 CPU 使用情况有关喔！ |
| crond | （系统）系统配置文件为 /etc/crontab，详细数据可参考[第十五章]的说明。                      |
| cups（可关闭）  | （系统/网络）用来管理打印机的服务，可以提供网络连线的功能，有点类似打印服务器的功能哩！ 你可以在 Linux 本机上面以浏览器的 <http://localhost:631> 来管理打印机喔！由于我们目前没有打印机，所以可以暂时关闭他。 |
| dbus  | （系统）使用 D-Bus 的方式在不同的应用程序之间传送讯息， 使用的方向例如应用程序间的讯息传递、每个使用者登陆时提供的讯息数据等。 |
| dm-event multipathd  | （系统）监控设备对应表 （device mapper） 的主要服务，当然不能关掉啊！ 否则就无法让 Linux 使用我们的周边设备与储存设备了！                            |
| dmraid-activation mdmonitor    | （系统）用来启动 Software RAID 的重要服务！最好不要关闭啦！虽然你可能没有 RAID。   |
| dracut-shutdown   | （系统）用来处理 initramfs 的相关行为，这与开机流程相关性较高～  |
| ebtables     | （系统/网络）通过类似 iptables 这种防火墙规则的设置方式，设计网卡作为桥接时的封包分析政策。 其实就是防火墙。不过与下面谈到的防火墙应用不太一样。如果没有使用虚拟化，或者启用了 firewalld ，这个服务可以不启动。   |
| emergency rescue   | （系统）进入紧急模式或者是救援模式的服务     |
| firewalld    | （系统/网络）就是防火墙！以前有 iptables 与 ip6tables 等防火墙机制，新的 firewalld 搭配 firewall-cmd 指令，可以快速的创建好你的防火墙系统喔！因此，从 CentOS 7.1 以后，iptables 服务的启动脚本已经被忽略了！ 请使用 firewalld 来取代 iptables 服务喔！ |
| gdm   | （系统）GNOME 的登陆管理员，就是图形界面上一个很重要的登陆管理服务！   |
| getty@     | （系统）就是要在本机系统产生几个文字界面 （tty） 登陆的服务啰！     |
| hyper *ksm* libvirt\* vmtoolsd        | （系统）跟创建虚拟机有关的许多服务！如果你不玩虚拟机， 那么这些服务可以先关闭。此外，如果你的 Linux 本来就在虚拟机的环境下，那这些服务对你就没有用！因为这些服务是让实体机器来创建虚拟机的！   |
| irqbalance   | （系统）如果你的系统是多核心的硬件，那么这个服务要启动， 因为它可以自动的分配系统中断 （IRQ） 之类的硬件资源。      |
| iscsi\*      | （系统）可以挂载来自网络磁盘机的服务！这个服务可以在系统内仿真好贵的 SAN 网络磁盘。 如果你确定系统上面没有挂载这种网络磁盘，也可以将他关闭的。       |
| kdump（可关闭）     | （系统）在安装 CentOS 的章节就谈过这东西，主要是 Linux 核心如果出错时，用来纪录内存的东西。 鸟哥觉得不需要启动他！除非你是核心骇客！      |
| lvm2-\*     | （系统）跟 LVM 相关性较高的许多服务，当然也不能关！不然系统上面的 LVM2 就没人管了！  |
| microcode     | （系统）Intel 的 CPU 会提供一个外挂的微指令集提供系统运行， 不过，如果你没有下载 Intel 相关的指令集文件，那么这个服务不需要启动的，也不会影响系统运行。      |
| ModemManager network NetworkManager\* | （系统/网络）主要就是调制解调器、网络设置等服务！进入 CentOS 7 之后，系统似乎不太希望我们使用 network 服务了， 比较建议的是使用 NetworkManager 搭配 nmcli 指令来处理网络设置～所以，反而是 NetworkManager 要开，而 network 不用开哩！        |
| quotaon     | （系统）启动 Quota 要用到的服务喔！     |
| rc-local    | （系统）相容于 /etc/rc.d/rc.local 的调用方式！只是，你必须要让 /etc/rc.d/rc.local 具有 x 的权限后， 这个服务才能真的运行！否则，你写入 /etc/rc.d/rc.local 的脚本还是不会运行的喔！    |
| rsyslog       | （系统）这个服务可以记录系统所产生的各项讯息， 包括 /var/log/messages 内的几个重要的登录文件啊。 |
| smartd    | （系统）这个服务可以自动的侦测硬盘状态，如果硬盘发生问题的话， 还能够自动的回报给系统管理员，是个非常有帮助的服务喔！不可关闭他啊！                  |
| sysstat     | （系统）事实上，我们的系统有只名为 sar 的指令会记载某些时间点下，系统的资源使用情况，包括 CPU/流量/输入输出量等， 当 sysstat 服务启动后，这些纪录的数据才能够写入到纪录档 （log） 里面去！    |
| systemd-\*    | （系统）大概都是属于系统运行过程所需要的服务，没必要都不要更动它的默认状态！       |
| plymount\* upower | （系统）与图形界面的使用相关性较高的一些服务！没启动图形界面时，这些服务可以暂时不管他！ |

上面的服务是 CentOS 7.x 默认有启动的，这些默认启动的服务很多是针对桌面电脑所设计的，所以啰，如果你的 Linux 主机用途是在服务器上面的话，那么有很多服务是可以关闭的啦！如果你还有某些不明白的服务想要关闭的， 请务必要搞清楚该服务的功能为何喔！举例来说，那个 rsyslog 就不能关闭，如果你关掉他的话，系统就不会记录登录文件， 那你的系统所产生的警告讯息就无法记录起来，你将无法进行 debug 喔。

下面鸟哥继续说明一些可能在你的系统当中的服务，只是默认并没有启动这个服务就是了。只是说明一下， 各服务的用途还是需要您自行查询相关的文章啰。

**其他服务的简易说明**

| 服务名称    | 功能简介 |
|----------|-----------|
| dovecot            | （网络）可以设置 POP3/IMAP 等收受信件的服务，如果你的 Linux 主机是 email server 才需要这个服务，否则不需要启动他啦！                          |
| httpd              | （网络）这个服务可以让你的 Linux 服务器成为 www server 喔！                 |
| named              | （网络）这是领域名称服务器 （Domain Name System） 的服务， 这个服务非常重要，但是设置非常困难！目前应该不需要这个服务啦！  |
| nfs nfs-server     | （网络）这就是 Network Filesystem，是 Unix-Like 之间互相作为网络磁盘机的一个功能。  |
| smb nmb            | （网络）这个服务可以让 Linux 仿真成为 Windows 上面的网络上的芳邻。 如果你的 Linux 主机想要做为 Windows 用户端的网络磁盘机服务器，这玩意儿得要好好玩一玩。   |
| vsftpd             | （网络）作为文件传输服务器 （FTP） 的服务。    |
| sshd               | （网络）这个是远端连线服务器的软件功能， 这个通讯协定比 telnet 好的地方在于 sshd 在传送数据时可以进行加密喔！这个服务不要关闭他啦！    |
| rpcbind            | （网络）达成 RPC 协定的重要服务！包括 NFS, NIS 等等都需要这东西的协助！     |
| postfix            | （网络）寄件的邮件主机～因为系统还是会产生很多 email 讯息！例如 crond / atd 就会传送 email 给本机用户！ 所以这个服务千万不能关！即使你不是 mail server 也是要启用这服务才行！ |